# Документация проекта

## 1. Проверки качества кода

В проекте используется [Husky](https://typicode.github.io/husky/#/) для автоматической фиксации ошибок с помощью **eslint**, **prettier** и проверки соответствия **editorconfig**.  
Если какое-либо правило кажется неудобным, его изменение должно быть согласовано со всеми участниками команды.

## 2. Конфигурация git

Во избежание конфликтов с переносами строк убедитесь, что в настройках git установлено:

```bash
git config --global core.autocrlf false
```

Husky также следит за этим параметром.

## 3. Ruby

В проекте используется **Ruby 3.4.0** (по крайней мере, с этой версией всё работает корректно).  
Перед началом работы выполните:

```bash
bundle install
```

и убедитесь, что не возникает ошибок.

## 4. Работа с секретами

Все секретные данные хранятся в файле `.env`.  
Если добавляете новые переменные, не забывайте обновлять `.env.example`, чтобы сборка не ломалась.  
Для доступа к переменным окружения используется [react-native-config](https://github.com/luggit/react-native-config).

## 5. Логирование и дебаг

Для логирования запросов используется [Reactotron](https://docs.infinite.red/reactotron/quick-start/react-native/#installing-reactotronapp).  
Он уже настроен и готов к использованию.  
Если хотите использовать другой дебаггер, убедитесь, что он не попадает в финальную сборку (проверьте окружение).

## 6. Структура компонентов

- Все переиспользуемые компоненты размещаются в `core/ui`.
- Все предварительные настройки библиотек — в `core/название_библиотеки`.

## 7. Папка root/

Папка `root/` предназначена для объединения всех фичей:

- настройка навигации,
- настройка центрального стора Redux,
- подключение всех API через rtk-query и т.д.

## 8. Взаимодействие с backend

Для работы с backend используется [rtk-query](https://redux-toolkit.js.org/rtk-query/overview).  
API-сервисы размещаются в:

```
feature/название_фичи/network/ExampleApi.ts
```

## 9. Интерфейсы

- Все основные интерфейсы приложения — в `common/entity`.
- Интерфейсы **Request** и **Response** для каждой фичи — в `feature/название_фичи/network/dto` и должны мапиться через `transformResponse`.

## 10. Патчи для библиотек

Из-за большого количества используемых технологий некоторые библиотеки приходится патчить.  
Для этого используется [patch-package](https://github.com/ds300/patch-package).
